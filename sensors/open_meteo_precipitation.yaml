---
platform: rest
unique_id: openmeteo_precipitation
name: OpenMeteo Precipitation
resource: !secret openmeteo_precipitation_url
value_template: "{{ value_json.current.precipitation }}"
unit_of_measurement: "mm"
icon: >
  {% if value_json is defined %}
    {% if value_json.current.precipitation > 0 %}
      mdi:weather-rainy
    {% else %}
        mdi:weather-sunny
    {% endif %}
  {% else %}
    mdi:cloud-off-outline
  {% endif %}
scan_interval: 3600 # Update every hour (3600 seconds)
